---
id: 1396
title: Начинаем проект квадрокоптера
date: 2014-05-09T22:10:13+00:00
author: catethysis
layout: post
guid: http://catethysis.ru/?p=1396
permalink: /quadrocopter_intro/
ratings_users:
  - 0
  - 0
  - 0
ratings_score:
  - 0
  - 0
  - 0
ratings_average:
  - 0
  - 0
  - 0
wp_noextrenallinks_mask_links:
  - 0
  - 0
  - 0
dsq_thread_id:
  - 2726609491
categories:
  - Квадрокоптер
tags:
  - квадрокоптер
---
Два года назад наша команда (я и <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/https://github.com/escaton" >escaton</a>) начала постройку квадрокоптера. Были закуплены моторы, драйверы моторов, пульт и аккумулятор; на раму, собранную из двух деревянных реек, были установлены моторы и их контроллеры. Тогда всё ограничилось несколькими экспериментами, в ходе которых мы поняли что у нас нет ни особых знаний, ни времени. Единственное, чего мы добились тогда &#8212; один эксперимент на поле, в котором коптер провисел в воздухе примерно 5 секунд. Те опыты не были нигде описаны, но от них осталось практически всё &#171;железо&#187;.

С тех пор прошло около двух лет, мы стали прошареннее в программировании [STM32](http://catethysis.ru/tag/stm32/), использовании датчиков и математике, чем раньше. К тому же, к нашим услугам &#8212; новые модели [MEMS-датчиков](http://catethysis.ru/mems_accelerometer_calibrating/ "Обработка данных MEMS-акселерометра") от ST, которые обладают бОльшей компактностью и лучшими параметрами, чем ADXL335, который мы использовали тогда. Ну и в конце концов, они цифровые &#8212; а значит, менее подвержены шумам. Используем совмещённый акселерометр/магнитометр <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.st.com/web/catalog/sense_power/FM89/SC1449/PF253884?s_searchtype=partnumber" >LSM303D</a> и гироскоп <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.st.com/web/catalog/sense_power/FM89/SC1288/PF252443" >L3GD20</a>.

<!--more-->

Сразу хочу сказать, что отношусь снисходительно к тем, кто покупает готовые полётные контроллеры, ставит их на готовые рамы с поставленными на заводе моторами и пропеллерами, и говорит <del>мама, мама, я похакал</del>&#171;я сделал свой квадрокоптер&#187;. Цена этому &#171;сделал&#187; &#8212; ноль, с тем же успехом можно было готовый Parrot Ar.Drone купить, и вышло бы дешевле. Мы &#8212; инженеры, понимающие как устроен мир, и только создание &#171;мозгов&#187; с нуля может быть настоящей целью.

## Этапы разработки

Правильный менеджмент проекта &#8212; залог его успешного выполнения, и мы оба поддерживаем методологию [Agile](http://catethysis.ru/agile-%d0%b8-%d1%81%d1%82%d1%80%d0%b0%d1%82%d0%b5%d0%b3%d0%b8%d1%8f-%d1%82%d0%b8%d0%ba-%d1%82%d0%b0%d0%ba-%d0%b2-%d1%80%d0%b0%d0%b7%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b5-%d1%8d%d0%bb%d0%b5/ "Agile и стратегия «тик-так» в разработке электроники"). Для начала (MVP) сделаем простейший стабилизатор, который используется в KKMulticopter и подобных простых контроллерах.

Гораздо удобнее и продуктивнее работать, имея удобную отладочную плату. Значит, нужно сделать такую плату, подходящую по размерам к посадочным отверстиям рамы коптера, и имеющую множество внешних интерфейсов для связи с моторами, датчиками, приёмником и остальным миром.

## Методика проведения испытаний

На первых этапах нельзя запускать коптер в самостоятельный полёт &#8212; он пока совершенно не устойчив, и наши навыки пилотирования превращают его в бешеную табуретку (по меткому выражению [Михаила](http://catethysis.ru/stm32-%d0%be%d0%b1%d0%b7%d0%be%d1%80-%d0%bf%d0%bb%d0%b0%d1%82-discovery/#comment-7642)). Кроме того, добавление аккумулятора сильно увеличивает его вес и убойную силу. Поэтому, эти эксперименты нужно проводить в комнате, каким-то образом зафиксировав коптер &#8212; в то же время дав ему возможность наклоняться. Но требуется хорошо чувствовать его поведение, и для этого нет ничего лучше руки. Поэтому для первых тестов я держу коптер снизу рукой, конечно же одев очки и спрятав все провода. Тесты проводятся на минимально возможной скорости вращения.

Когда станет ясно, что коптер более-менее устойчиво держится в воздухе (и приедет пульт с [Хоббикинга](http://catethysis.ru/multicopter_parts_order_hobbyking/ "Заказ деталей для квадрокоптера на Hobbyking.com")) &#8212; можно будет перенести испытания сначала на пол комнаты, а потом и на улицу.

**Статьи цикла:
  
** 1. Начинаем проект квадрокоптера
  
2. [Выбор деталей](http://catethysis.ru/multicopter_parts_choose/ "Выбор деталей квадрокоптера")
  
3. [Заказ деталей на Hobbyking.com](http://catethysis.ru/multicopter_parts_order_hobbyking/ "Заказ деталей для квадрокоптера на Hobbyking.com")
  
4. [Управление положением квадрокоптера](http://catethysis.ru/quadrotor_position_control/ "Управление положением квадрокоптера")
  
5. [Получение данных с MEMS-акселерометра](http://catethysis.ru/%d0%b8%d0%bd%d0%b5%d1%80%d1%86%d0%b8%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%b4%d0%b0%d1%82%d1%87%d0%b8%d0%ba-%d1%81-usb-%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d1%84%d0%b5%d0%b9%d1%81%d0%be%d0%bc/ "Инерциальный датчик с USB–интерфейсом")
  
6. [Калибровка и обработка сигнала MEMS-акселерометра](http://catethysis.ru/mems_accelerometer_calibrating/)
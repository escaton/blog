---
id: 1099
title: Приехала плата Red Pitaya
date: 2014-03-18T18:18:33+00:00
author: catethysis
layout: post
guid: http://catethysis.ru/?p=1099
permalink: /red-pitaya_arrived/
ratings_users:
  - 2
  - 2
  - 2
ratings_score:
  - 10
  - 10
  - 10
ratings_average:
  - 5
  - 5
  - 5
notely:
  - 
  - 
  - 
wp_noextrenallinks_mask_links:
  - 0
  - 0
  - 0
dsq_thread_id:
  - 2726265017
categories:
  - Red Pitaya
  - Обзоры
tags:
  - red pitaya
  - электроника
---
Это свершилось &#8212; ко мне-таки приехала Red Pitaya! О ней я писал [здесь](http://catethysis.ru/index.php/red-pitaya/ "Red Pitaya"), и это было ровно полгода назад &#8212; 20 сентября. Производители сталкивались с трудностями, несколько раз отправка переносилась &#8212; но в итоге плата лежит передо мной.

<!--more-->

## Внешний вид

[<img class="alignnone size-large wp-image-1126" alt="DSC_0114" src="http://catethysis.ru/wp-content/uploads/2014/03/DSC_0114-1024x576.jpg" width="604" height="339" />](http://catethysis.ru/wp-content/uploads/2014/03/DSC_0114.jpg)

Плата гораздо меньше, чем мне казалось по фотографиям &#8212; она размером со смартфон. Процессор и микросхемы ЦАП/АЦП на фотографиях были голыми, теперь же они закрыты радиатором &#8212; и забегая вперёд, радиатор этот действительно необходим, потому что процессор довольно сильно нагревается.

### Разъёмы

На верхнем краю расположены ВЧ-разъёмы аналоговых входов и выходов, снизу &#8212; коммуникация вроде Ethernet, USB, SD-карты питания и консольного USB. По бокам платы &#8212; два разъёма IDC-26, в которых сидят GPIO, низкоскоростные АЦП и ЦАП, а также LVDS-выходы. Справа есть ещё два разъёма, похожих на SATA, которые предназначены для соединения нескольких плат между собой.

### Комплектация

В коробке, помимо платы, лежат 2 щупа довольно китайского качества. Я так и не смог отрегулировать на них компенсацию &#8212; крутилка ничего не меняет (!).
  
Также там лежит microSD-карта с тремя готовыми программами, блок питания с переходниками на разные розетки и пара переходников SMA-BNC.

## Начинаем!

Вставляем microSD-карту в слот (вверх ногами); подключаем питание &#8212; по microUSB-кабелю от компа или от комплектного блока питания; подключаем Ethernet-кабель. Если в вашей сети есть DHCP-сервер, плата получит адрес сама. Тогда её нужно будет найти &#8212; по логам сервера или с помощью функции Discover Pitaya на сайте. Если же плата не обнаруживает сервер, через 15 секунд она настраивает себе статический адрес 192.168.1.100, и веб-интерфейс становится доступен по адресу <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://192.168.1.100/" >http://192.168.1.100/</a>.

Нас встречает веб-интерфейс с теми тремя готовыми программами &#8212; осциллограф, спектрограф и генератор сигналов.

## Осциллограф

Я подключил к первому аналоговому входу платы внешний генератор Rigol DG4062 &#8212; двухканальный генератор сигналов с частотой дискретизации 500Мсемплов/с. На плате выбрал режим LV (low voltage): можно выбрать между максимальным уровнем сигнала 1В и 20В. По умолчанию на обоих каналах установлен режим LV.

Генератор настроил на синусоидальный сигнал 1МГц, амплитуда 500мВ.

[<img class="alignnone size-large wp-image-1130" alt="pitaya_oscill" src="http://catethysis.ru/wp-content/uploads/2014/03/pitaya_oscill-1024x527.png" width="604" height="310" />](http://catethysis.ru/wp-content/uploads/2014/03/pitaya_oscill.png)

Супер! Всё работает, сигнал отображается. Правда, прямоугольник 10МГц выглядит уже не так красиво:

[<img class="alignnone size-full wp-image-1131" alt="pitaya_oscill_square" src="http://catethysis.ru/wp-content/uploads/2014/03/pitaya_oscill_square.png" width="736" height="528" />](http://catethysis.ru/wp-content/uploads/2014/03/pitaya_oscill_square.png)

Я думаю, это можно списать на плохой щуп.

## Спектрограф

Теперь я настроил на генераторе режим качающейся частоты &#8212; синус от 1МГц до 60МГц за 15 секунд.

[<img class="alignnone size-large wp-image-1132" alt="pitaya_spectrum" src="http://catethysis.ru/wp-content/uploads/2014/03/pitaya_spectrum-1024x730.png" width="604" height="430" />](http://catethysis.ru/wp-content/uploads/2014/03/pitaya_spectrum.png)

Внизу виден waterfall-график, на котором видно что частота действительно постоянно растёт. В правой панели отображается частота и амплитуда самого высокого пика в спектре.
  
И вот здесь-то мы видим сигнал на втором канале, хотя к нему ничего не подключено  &#8212; похоже, между каналами существует связь. Я измерил её уровень, подробнее: [измерение коэффициента связи между каналами red pitaya](http://catethysis.ru/index.php/%d1%81%d0%b2%d1%8f%d0%b7%d1%8c-%d0%bc%d0%b5%d0%b6%d0%b4%d1%83-%d0%b2%d1%85%d0%be%d0%b4%d0%bd%d1%8b%d0%bc%d0%b8-%d0%ba%d0%b0%d0%bd%d0%b0%d0%bb%d0%b0%d0%bc%d0%b8-crosstalk-%d0%b2-red-pitaya/ "Связь между входными каналами (crosstalk) в Red Pitaya").

Теперь исследуем прямоугольный сигнал.

[<img class="alignnone size-full wp-image-1133" alt="pitaya_spectrum_square" src="http://catethysis.ru/wp-content/uploads/2014/03/pitaya_spectrum_square.png" width="735" height="796" />](http://catethysis.ru/wp-content/uploads/2014/03/pitaya_spectrum_square.png)

Появилось много гармоник. Только вот их величины отличаются от тех, которым нас учит семья и школа: должны быть только нечётные гармоники уровня 1 (0дБ), 1/3 (-10дБ), 1/5 (-14дБ) &#8212; на самом деле мы видим 0дБ, -12дБ и -20дБ. Похоже, щуп вносит затухание &#8212; и чем выше частота, тем затухание больше.

Гораздо интереснее понять, откуда взялись [чётные гармоники в прямоугольном сигнале](http://catethysis.ru/index.php/%d1%87%d1%91%d1%82%d0%bd%d1%8b%d0%b5-%d0%b3%d0%b0%d1%80%d0%bc%d0%be%d0%bd%d0%b8%d0%ba%d0%b8-%d0%b2-%d0%bf%d1%80%d1%8f%d0%bc%d0%be%d1%83%d0%b3%d0%be%d0%bb%d1%8c%d0%bd%d0%be%d0%bc-%d1%81%d0%b8%d0%b3/ "Исследование спектра прямоугольного сигнала платой Red Pitaya") &#8212; тут я нашёл причины этого явления. Правда, их амплитуда не превышает -40дБ (а в основном находится ниже -55дБ), и ими можно пренебречь.

## Генератор

Последний из стандартных режимов работы &#8212; генератор. Настроим его на синус, 15МГц, 1 вольт.

[<img class="alignnone size-full wp-image-1127" alt="pitaya_generator" src="http://catethysis.ru/wp-content/uploads/2014/03/pitaya_generator.png" width="356" height="357" />](http://catethysis.ru/wp-content/uploads/2014/03/pitaya_generator.png)

Посмотрим сигнал на осциллографе (я использую Tektronix TDS1002 с приятнейшим чёрно-белым ЖК дисплеем, похожим на электронную бумагу).

[<img class="alignnone size-large wp-image-1138" alt="DSC_0103" src="http://catethysis.ru/wp-content/uploads/2014/03/DSC_0103.jpg" width="604" height="453" />](http://catethysis.ru/wp-content/uploads/2014/03/DSC_0103.jpg)

И спектр:

[<img class="alignnone size-full wp-image-1137" alt="DSC_0102" src="http://catethysis.ru/wp-content/uploads/2014/03/DSC_0102.jpg" width="814" height="616" />](http://catethysis.ru/wp-content/uploads/2014/03/DSC_0102.jpg)

Видна вторая гармоника, но её уровень невысок: -32дБ. Третья гармоника так и вообще сливается с шумом (-50дБ).

### Вывод

Можно сделать первые выводы: плата очень хороша, всё работает как было заявлено, а для полного исследования её возможностей нужно подольше поработать с ней.
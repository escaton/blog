---
id: 1154
title: Свежие новоSTи
date: 2014-03-21T17:16:18+00:00
author: catethysis
layout: post
guid: http://catethysis.ru/?p=1154
permalink: /news_from_st/
ratings_users:
  - 2
  - 2
  - 2
ratings_score:
  - 10
  - 10
  - 10
ratings_average:
  - 5
  - 5
  - 5
notely:
  - 
  - 
  - 
wp_noextrenallinks_mask_links:
  - 0
  - 0
  - 0
dsq_thread_id:
  - 2726405972
categories:
  - STM32
  - Новости
tags:
  - STM32
  - электроника
---
Похоже, компания ST наконец отошла от маниакального создания новых свежих чипов и решила оглянуться назад &#8212; &#171;что же с этим всем делать?&#187;. Тема новой пятилетки &#8212; утилиты и примеры для уже созданных контроллеров.

Это довольно логично &#8212; можно сколько угодно делать железо, но без адекватной поддержки его софтом многие не слишком упорные инженеры просто уйдут с этой платформы. Поэтому я очень рад, что такие утилиты начинают появляться.

<!--more-->

Этого от ST ждали давно, многие (очень многие!) ругают их за неудобство написания кода и отсутствие хороших примеров. Я могу сходу назвать несколько  моих личных претензий к ним:

  * Самые первые отладочные платы STM32F1Discovery продаются до сих пор, и даже создаётся видимость их поддержки (переименовали в STM32VLDiscovery) &#8212; но переделать архив с примерами на сайте никто не удосужился, при том что в новых версиях IAR они давно уже не компилируются.
  * Наличие ошибок в SPL.
  * Полное отсутствие примеров для некоторой периферии.

Вообще, довольно тяжело найти архив с примерами на сайте ST &#8212; только если знать, где его искать.

Наконец менеджеры ST услышали вопли инженеров, и ситуация начинает меняться.

## STM32Cube

Месяц назад нас обрадовали проектом <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.st.com/web/catalog/tools/FM147/CL1794/SC961/SS1743/PF259242?icmp=stm32cubemx_pron_prcube_feb2014" >STM32Cube</a>, который должен был наконец разрушить магию Startup-файлов и дать удобные инструменты для настройки тактирования и прочих параметров инициализации. Правда, ST поступает в точном соответствии с принципами Agile, и выкатывает обновления постепенно &#8212; пока Cube доступен только для микроконтроллеров серии F4, но начинание собираются продолжать.

Я эту утилиту так ни разу и не трогал, потому что сейчас не использую камни F4. Ждём такую же утилиту для других серий, особенно для F1.

## STM32Snippets

Это то, о чём компанию просили очень давно. Теперь наконец-то есть <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.st.com/web/en/catalog/tools/FM147/CL1794/SC961/SS1743/PF260157?icmp=pf260157_pron_pr-stm32snippets_mar2014" >куски кода</a>, которые можно использовать в своих приложениях, и они, что называется, &#171;просто работают&#187;. Отзывов об их качестве пока немного, но очень хочется чтобы эту идею не забросили.Загадочно выглядит переход обратно к прямому обращению к регистрам. В своё время ST много сил положила, чтобы заставить всех использовать её библиотеку периферии. Очень странно, почему в сниппетах они ушли от этого подхода. Может быть, поняли что SPL &#8212; не серебряная пуля?

&nbsp;

Совершенно ясен выбор серий микроконтроллеров для этих обновлений.

## Серии микроконтроллеров ST

Со стороны создаётся такое впечатление о сериях МК:

  * F1 &#8212; самая первая ласточка, сделано впопыхах чтобы успеть завоевать первенство и наводнить рынок дешёвыми контроллерами и отладочными платами. Отсюда &#8212; пухлые errata. Спустя несколько лет компания начинает насаждать мнение что эта серия устарела, и выводит новую серию
  * F2 &#8212; по-моему, вообще неудачная серия. В ней всего ЧЕТЫРЕ разных модели, остальные отличаются лишь размером памяти. Судя по тому, что ST про эту серию не говорит вообще нигде &#8212; похоже, эксперимент признан провалом. В старых материалах ST называет её прямым преемником серии F1, и акцент сделан на полной pin-to-pin совместимости и лёгкой замене.
  * F3 стоит особняком относительно других серий. Она позиционируется как этакий аналоговый процессор &#8212; не совсем DSP, но всё же. Большой набор ОУ, компараторов, хороших ЦАП и АЦП на борту выводит эти контроллеры в отдельную нишу &#8212; кому-то (начинающим и цифровым электронщикам) они вовсе не нужны, но в некоторых применениях (обработка звука, управление моторами, взаимодействие с датчиками) они буквально незаменимы. Мощное ядро Cortex F4 и FPU добавляют свою изюминку. Рекламы по этой серии тоже не так много, потому что тот, кому нужны все эти фичи &#8212; сам всё знает, а кому не нужно &#8212; тому есть другие серии.
  * F4 &#8212; самая крутая серия, с ядром Cortex F4 и FPU, а также самыми высокими MIPS/FLOPS. Объём памяти тоже впечатляет &#8212; 2 мегабайта флеша встретишь не в каждом современном МК! Явный фаворит всей линейки контроллеров, буквально говоря &#171;полный фарш&#187;. Действительно, круче них нет ничего &#8212; огромный набор периферии, как ввода-вывода, так и внутренних блоков вроде хеширования и криптографии. Рекламируется из каждого утюга, потому что фаворит и потому что приносит много денег (эти МК довольно дороги). К тому же на них работает имидж первых серий, который закрепил стереотип &#171;ST &#8212; это дёшево&#187;.
  * F0/L0/L1 &#8212; микро- и нанопотребляющие серии. На фоне общей озабоченности экологией и экономичностью, я думаю, расходятся очень хорошо. Ставка на экологию &#8212; это всегда выигрыш.

Однако, я уверен что значительную долю продаж до сих пор занимает серия F1, и удивительно почему она так незаслуженно забыта.
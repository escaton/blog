---
id: 12
title: Измерение потребления электроэнергии компьютером
date: 2013-09-02T22:28:04+00:00
author: catethysis
layout: post
guid: http://192.168.1.10/wordpress/?p=12
permalink: /izmerenie-potrebleniya-elektroenergii-kompyuterom/
notely:
  - Уникальность текста 99% / 100%. Отличная уникальность текста.
  - Уникальность текста 99% / 100%. Отличная уникальность текста.
  - Уникальность текста 99% / 100%. Отличная уникальность текста.
ratings_users:
  - 2
  - 2
  - 2
ratings_score:
  - 10
  - 10
  - 10
ratings_average:
  - 5
  - 5
  - 5
wp_noextrenallinks_mask_links:
  - 0
  - 0
  - 0
dsq_thread_id:
  - 2730545860
categories:
  - Linux
tags:
  - сервер
  - электроника
---
Многие тесты потребления в интернете используют простое измерение тока в сети 220В на входе блока питания. Это очень просто, но сообщает совершенно неверные сведения по трём причинам:

  1. КПД блока питания далёк от 100%. Только самые дорогие БП имеют КПД выше 80%, а обычные китайские блоки вряд ли дают выше 50%.
  2. Более того, КПД блока питания сильно зависит от нагрузки. Довольно тяжело купить блок питания мощностью меньше 300Вт &#8212; значит, на нашем &#171;зелёном&#187; сервере он будет работать на 10% максимальной мощности. Для таких слабых нагрузок графиков КПД даже не существует, но судя по всему, эффективность работы в таком режиме меньше 50%, а значит блок питания в основном работает на свой радиатор. Как двигатель внутреннего сгорания.
  
    <img class="alignnone" alt="Эффективность компьютерного блока питания" src="http://static.catethysis.ru/files/power_consumption.png" width="350" height="250" />
  3. Блок питания &#8212; сильно нелинейная и <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://ru.wikipedia.org/wiki/Реактивное_сопротивление"  target="_blank">реактивная</a> нагрузка. Значит, его <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://ru.wikipedia.org/wiki/Коэффициент_мощности"  target="_blank">коэффициент мощности</a> меньше единицы, и мощность полученная умножением напряжения на ток будет больше реальной. Существуют блоки питания с <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://ru.wikipedia.org/wiki/PFC"  target="_blank">корректором коэффициента мощности (PFC)</a>, но они редки, и выпускаются только на высокие мощности.
  4. Ток блока питания обогащён гармониками, в силу самого характера выпрямления напряжения на его входе. Неясно, как учитывает эти гармоники мультиметр в режиме измерения переменного тока.

Как видим, некоторые факторы завышают измеренную мощность, некоторые, наоборот, занижают. Трудно сказать, как в итоге интерпретировать такие цифры.

Для прямого измерения мощности лучше использовать специализированные приборы &#8212; измерители мощности переменного тока, либо измерять ток на выходах блока питания компьютера (в этом случае из вычислений исключается КПД блока питания).

В таком методе измерения мощности нужно сделать следующее:

  1. Разорвать все линии +3.3В, +5В и +12В на выходе блока питания (конечно, гораздо удобнее это делать, имея <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.ebay.com/sch/i.html?_nkw=24+pin+atx+extension+cable"  target="_blank">удлинитель ATX</a>);
  2. Соединить (скрутить, спаять) все линии  одинакового напряжения &#8212; как со стороны блока питания, так и со стороны материнской платы. После этого мы имеем 3 толстых скрутки +3.3В, +5В и +12В с обоих сторон (а также провода земли и 5 проводов дополнительных сигналов);
  3. Включить между одноимёнными пучками мультиметр в режиме измерения тока, а два других пучка блока питания соединить с соответствующими пучками материнской платы.
  4. Включить компьютер и провести измерения в Idle (без нагрузки) и Burn (c [CPUBurn](http://catethysis.ru/index.php/testyi-proizvoditelnosti-v-linux/ "Тесты производительности в linux")).
  5. Повторить измерения с двумя другими линиями.

Потребление по линиям -5 и -12В стремится к нулю &#8212; ещё бы, ведь -5 требовалось для ISA, а -12 &#8212; для COM-порта.

Есть <a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://www.ebay.com/sch/i.html?_nkw=ATX+Power+Supply+Tester"  target="_blank">вариант попроще</a>, но неизвестна точность его показаний.

По описанному методу была измерена мощность потребления сервера. Получились следующие результаты.

Потребление материнской платы D945GCLF2 с 2ГБ DDR2-800 памяти и жёстким диском HD204UI:
  
Idle: 0.2А \* 3.3В + 2.8А \* 5В + 0.3А * 12В = **16 Вт**
  
[Burn](/?p=10): 0.2А \* 3.3В + 3.2А \* 5В + 0.6А * 12В = **22 Вт**.

Как видим, это значительно отличается от референсных значений в даташите на материнку, в меньшую сторону.<a target="_blank" rel="nofollow" href="http://catethysis.ru/goto/http://192.168.1.10/wordpress/wp-content/uploads/2013/09/Power-consumption.png" ><img class="alignnone  wp-image-13" alt="Power consumption" src="http://catethysis.ru/wp-content/uploads/2013/09/Power-consumption-1024x274.png" /></a>

&nbsp;